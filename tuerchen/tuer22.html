<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Adventskalender - Bayes Theorem</title>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: url('background.jpeg');
            background-size: cover;
            background-position: center center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            font-family: 'Quicksand', sans-serif;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: #ffffff;
            overflow-x: hidden;
        }

        .content {
            position: relative;
            z-index: 2;
            text-align: center;
            max-width: 800px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.656);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        h1 {
            color: #E0E7FF;
            font-size: 2em;
            font-weight: 700;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
            margin-bottom: 20px;
        }

        p {
            color: #c9ddf7;
            font-size: 1.2em;
            font-weight: 400;
            margin-bottom: 10px;
            text-align: left;
        }

        ul {
            color: #c9ddf7;
            font-size: 1em;
            font-weight: 400;
            margin-left: 40px;
            margin-bottom: 20px;
            text-align: left;
        }

        li {
            margin-bottom: 10px;
        }

        .navigation {
            display: flex;
            gap: 20px;
            justify-content: center;
            margin-top: 20px;
        }

        .nav-button {
            padding: 10px 20px;
            font-size: 1.2em;
            color: #E0E7FF;
            text-decoration: none;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            background: rgba(255, 255, 255, 0.5);
            transform: scale(1.05);
        }

        .nav-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        pre {
            background-color: #d8d8d814;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
            word-wrap: break-word;
            text-align: left;
            margin: 10px 0;
            font-size: 0.8em;
            line-height: 1.4;
        }
    </style>
</head>
<body>
    <div class="content">
        <div class="page active" data-page="1">
            <h1>Türchen 22: Fehler Quantifizieren</h1>
            <p>Heyy, heute schauen wir uns die Formeln an, mit denen wir die Fehler eines Klassifikationsmodell quantifizieren können. Kann mir vorstellten
                das der Prof, wenn er verrückt drauf ist danach fragen wird, aber jaa, hier wäre erstmal eine Übersicht:
            </p>
            <img src="quanti.png" alt="Markovkette" style="margin-top: 20px; max-width: 50%; border-radius: 10px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.5);">
            <p>Alsoo, wir haben die folgende Konfusionsmatrix gegeben: </p>
            <pre>
conf_matrix = data.frame(
  Predicted_Negativ = c(45, 1),
  Predicted_Positiv = c(2, 24),
  row.names = c("True_Negativ", "True_Positiv")
)
            </pre>
            <p>Wir wollen jetzt eine Funktion schreiben, die die Formeln umsetzt. Dafür können wir erstmal schauen wie wir True Negativ (TN), False Negative (FN), False Positive (FP), True Positive (TP), daraus bestimmen. Als kleiner Tipp, für TN können wir:</p>
        <pre>
TN = conf_matrix["True_Negativ", "Predicted_Negativ"]         
        </pre>
        </div>

        <div class="page" data-page="2">
            <h1>Fehler Quantifizieren - Seite 2</h1>
            <pre>
TN = conf_matrix["True_Negativ", "Predicted_Negativ"]
FN = conf_matrix["True_Positiv", "Predicted_Negativ"]
FP = conf_matrix["True_Negativ", "Predicted_Positiv"]
TP = conf_matrix["True_Positiv", "Predicted_Positiv"]
            </pre>
            <p>Sooo, als nächstes kannst du damit schon die Formeln von der page 1 umsetzen :)</p>
        </div>

        <div class="page" data-page="3">
            <h1>Fehler Quantifizieren - Seite 3</h1>
            <p>Lösung:</p>
<pre>
genauigkeit = (TP + TN) / (TN + FN + FP + TP)
fehlerrate = (FN + FP) / (TN + FN + FP + TP)
sensitivitaet = TP / (TP + FN)
spezifitaet = TN / (TN + FP)
ppv = TP / (TP + FP)
npv = TN / (TN + FN)
</pre>
        <p>Jetzt wäre es noch gut das ganze in eine Funktion zu packen die die Konfusionsmatrix bekommt und dann alle "Gütemaße" zurückgibt, z.B in einer Liste.</p>
        </div>

        <div class="page" data-page="4">
            <h1>Fehler Quantifizieren - Seite 4</h1>
            <p>Lösung:</p>
            <pre>
berechne_metriken = function(conf_matrix) {
    TN = conf_matrix["True_Negativ", "Predicted_Negativ"]
    FN = conf_matrix["True_Positiv", "Predicted_Negativ"]
    FP = conf_matrix["True_Negativ", "Predicted_Positiv"]
    TP = conf_matrix["True_Positiv", "Predicted_Positiv"]
    
    genauigkeit = (TP + TN) / (TN + FN + FP + TP)
    fehlerrate = (FN + FP) / (TN + FN + FP + TP)
    sensitivitaet = TP / (TP + FN)
    spezifitaet = TN / (TN + FP)
    ppv = TP / (TP + FP)
    npv = TN / (TN + FN)
    
    return(list(
        Genauigkeit = genauigkeit,
        Fehlerrate = fehlerrate,
        Sensitivität = sensitivitaet,
        Spezifität = spezifitaet,
        PPV = ppv,
        NPV = npv
    ))
}
    
# testen
ergebnisse = berechne_metriken(conf_matrix)
print(ergebnisse)
            </pre>
            <p>Joaaa, das ist ein bisschen nervig diese Formeln auswendig zu lernen, maybe hast du jetzt ein besseren Überblick und hoffentlich fragt er das nicht, oder ehr hoffentlich nur Genauogkeit und Fehler, aber jaaa, tschauuu :]</p>
        
        </div>


        <div class="navigation">
            <button class="nav-button" id="prevButton">Zurück</button>
            <button class="nav-button" id="nextButton">Weiter</button>
            <a href="../index.html" class="nav-button">Zum Kalender</a>
        </div>
    </div>

    <script>
        const pages = document.querySelectorAll('.page');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        let currentPage = 1;

        function updateButtons() {
            prevButton.disabled = currentPage === 1;
            nextButton.disabled = currentPage === pages.length;
        }

        function showPage(pageNumber) {
            pages.forEach(page => page.classList.remove('active'));
            document.querySelector(`[data-page="${pageNumber}"]`).classList.add('active');
            currentPage = pageNumber;
            updateButtons();
        }

        prevButton.addEventListener('click', () => {
            if (currentPage > 1) {
                showPage(currentPage - 1);
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentPage < pages.length) {
                showPage(currentPage + 1);
            }
        });

        updateButtons();
    </script>
</body>
</html>
