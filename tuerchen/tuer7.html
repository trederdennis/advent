<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Adventskalender - Tür</title>
        <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }
    
            body {
                background: url('background.jpeg');
                background-size: cover;
                background-position: center center;
                background-repeat: no-repeat;
                background-attachment: fixed; /* Wichtig für Responsiveness */
                font-family: 'Mountains of Christmas', cursive;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                padding: 20px;
                color: #ffffff;
                overflow-x: hidden;
            }
    
            .snow {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                pointer-events: none;
                z-index: 1;
            }
    
            .snowflake {
                position: absolute;
                background: white;
                border-radius: 50%;
                opacity: 0.8;
                animation: fall linear infinite;
            }
    
            @keyframes fall {
                to {
                    transform: translateY(100vh) rotate(720deg);
                }
            }
    
            .content {
                position: relative;
                z-index: 2;
                text-align: center;
                max-width: 800px;
                padding: 20px;
                background: rgba(0, 0, 0, 0.656);
                border-radius: 15px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            }
    
            h1 {
                color: #E0E7FF;
                font-size: 2em;
                font-weight: 700;
                text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
                margin-bottom: 20px;
            }
    
            p {
                color: #c9ddf7;
                font-size: 1.2em;
                font-weight: 400;
                margin-bottom: 10px;
                text-align: left;
            }
    
            ul {
                color: #c9ddf7;
                font-size: 1em;
                font-weight: 400;
                margin-left: 40px;
                margin-bottom: 20px;
                text-align: left;
            }
    
            li {
                margin-bottom: 10px;
            }
    
            .navigation {
                display: flex;
                gap: 20px;
                justify-content: center;
                margin-top: 20px;
            }
    
            .nav-button {
                padding: 10px 20px;
                font-size: 1.2em;
                color: #E0E7FF;
                text-decoration: none;
                background: rgba(255, 255, 255, 0.2);
                border: none;
                border-radius: 10px;
                cursor: pointer;
                transition: all 0.3s ease;
            }
    
            .nav-button:hover {
                background: rgba(255, 255, 255, 0.5);
                transform: scale(1.05);
            }
    
            .nav-button:disabled {
                opacity: 0.5;
                cursor: not-allowed;
                transform: none;
            }
    
            .page {
                display: none;
            }
    
            .page.active {
                display: block;
            }
        </style>
<body>
    <div class="snow" id="snowContainer"></div>
    <div class="content">
        <div class="page active" data-page="1">
            <h1>Türchen 7: Transkriptionsfaktoren</h1>
            <p>Ellooo, heute wollen wir eine Funktion schreiben die für einen Transkriptionsfaktor die Bindestellen in einer Sequenz findet. Zum start hab ich mir mal Pho4 und diese Sequenz ausgesucht:</p>
            <pre>
dna_sequence = "atgcacgtggctacacgtGGCGGCGTCAACGTG"
transcription_factor = "cacgtg"
            </pre>

            <p>Sooo, als nächstes können wir versuchen die Positionen von den Transkriptionsfaktor in der Sequenz zu finden. In den Übungen hast du schon ein paar R-Aufrufe gehabt, aber es gibt noch einen praktischen: gregexpr(). Du kannst dir Infos zum Befehl mit den (?) holen. Die Infos darin sind erstmal ein bissl kryptisch, aber wichtig für uns sind dabei zwei Abschnitte. Zuerst Usage, damit wir wissen wie wir den Aufruf starten müssen (pattern und text), bzw. ob wir ignore.case beachten müssen oder nicht also bspw. "a"/"A".  Und dann Value, damit wir wissen was wir zurückbekommen, das ist gerade interessant, wenn wir bspw. keine Bindestelle in der Sequenz finden. Aber jaa, dann gehts los:</p>
            <p>Tipps:</p>
            <ul>
                <li>unlist() auf den output anwenden, damit er nutzbar ist</li>
            </ul>     
    
            
        </div>

        <div class="page" data-page="2">
            <h1>Transkriptionsfaktoren - Seite 2</h1>
            <p>Lösung:</p>
            <pre>
dna_sequence = "atgcacgtggctacacgtGGCGGCGTCAACGTG"
transcription_factor = "cacgtg"

matches = gregexpr(transcription_factor, dna_sequence)
matches = unlist(matches)

print(matches)
            </pre>
            <p>Okööö super, jetzt wäre es noch gut wenn wir das in einer Funktion verpacken, die passende Outputs erstellt. Ich denk mal das kriegst du auch ohne Tipps hin oder? Zum testen hätte ich noch diese drei Sequenzen:</p>

            <pre>
seq1 = "atgcacgtgcacgtggctacacgttatctatccacgtgGGCGGCGTCAACGTG"
seq2 = "atggcaggcaacgctacacgtccaatgtGGCGGCGTCAACGTG"
seq3 = "cacgtggtagagtaggggatccctttGGCGGCGTCAACGTG"
            </pre>
            <p>Denk einfach nur dran was die Funktion alles bekommen muss und was wir ausgeprinted haben wollen. Bzw. was gibt gregexpr() zurück wenn wir kein match haben :]</p>
        </div>

        <style>
            pre {
                background-color: #d8d8d814;
                border: 1px solid #ddd;
                border-radius: 4px;
                padding: 10px;
                font-family: 'Courier New', monospace;
                white-space: pre-wrap;
                word-wrap: break-word;
                text-align: left;
                margin: 10px 0;
                font-size: 0.8em;
                line-height: 1.4;
            }
        </style>
        
        <div class="page" data-page="3">
            <h1>Transkriptionsfaktoren - Seite 3</h1>
            <p>Lösung:</p>
            <pre>
find_transcription_factor_positions = function(dna_sequence, transcription_factor) {
    matches = gregexpr(transcription_factor, dna_sequence)
    matches = unlist(matches)
    
    if (length(matches) == 1 && matches == -1) {
        cat("Keine Bindestelle in der Sequenz gefunden.\n")
    } else {
        cat("Positionen der Bindestellen:", matches, "\n")
    }
}
    
# Funktion testen
seq1 = "atgcacgtgcacgtggctacacgttatctatccacgtgGGCGGCGTCAACGTG"
seq2 = "atggcaggcaacgctacacgtccaatgtGGCGGCGTCAACGTG"
seq3 = "cacgtggtagagtaggggatccctttGGCGGCGTCAACGTG"


transcription_factor = "cacgtg"

find_transcription_factor_positions(seq1, transcription_factor)
find_transcription_factor_positions(seq2, transcription_factor)
find_transcription_factor_positions(seq3, transcription_factor)
            </pre>
        <p> Joooo, gregexpr() liefert -1 zurück wenn wir kein match haben, entsprechend müssen wir in den Fällen überprüfen ob die Liste mit den Positionen die wir zurückbekommen genau 1 lang ist und gleichzeitig der Eintrag -1 entspricht. Alsoooo, ja das ging denk ich mal klar oder? dann tschauuuu :)</p>
        </div>

    

        <div class="navigation">
            <button class="nav-button" id="prevButton">Zurück</button>
            <button class="nav-button" id="nextButton">Weiter</button>
            <a href="../index.html" class="nav-button">Zum Kalender</a>
        </div>
    </div>


    <script>
        function optimizeBackgroundImage() {
        const body = document.body;
        const img = new Image();
        img.src = 'tuerchen/background.jpeg';
        
        img.onload = function() {
            const aspectRatio = img.width / img.height;
            const windowAspectRatio = window.innerWidth / window.innerHeight;
            
            if (aspectRatio > windowAspectRatio) {
                // Wenn das Bild breiter ist als der Bildschirm
                body.style.backgroundSize = 'auto 100%';
            } else {
                // Wenn das Bild höher ist als der Bildschirm
                body.style.backgroundSize = '100% auto';
            }
        };

        // Aktualisiere bei Größenänderung des Fensters
        window.addEventListener('resize', optimizeBackgroundImage);
    }
        function createSnowflakes() {
            const snowContainer = document.getElementById('snowContainer');
            for (let i = 0; i < 100; i++) {
                const snowflake = document.createElement('div');
                snowflake.classList.add('snowflake');
                snowflake.style.left = Math.random() * 100 + 'vw';
                snowflake.style.width = Math.random() * 3 + 1 + 'px';
                snowflake.style.height = snowflake.style.width;
                snowflake.style.animationDuration = (Math.random() * 10 + 5) + 's';
                snowflake.style.animationDelay = Math.random() * -10 + 's';
                snowContainer.appendChild(snowflake);
            }
        }

        createSnowflakes();

        // Navigation Logic
        const pages = document.querySelectorAll('.page');
        const prevButton = document.getElementById('prevButton');
        const nextButton = document.getElementById('nextButton');
        let currentPage = 1;

        function updateButtons() {
            prevButton.disabled = currentPage === 1;
            nextButton.disabled = currentPage === pages.length;
        }

        function showPage(pageNumber) {
            pages.forEach(page => page.classList.remove('active'));
            document.querySelector(`[data-page="${pageNumber}"]`).classList.add('active');
            currentPage = pageNumber;
            updateButtons();
        }

        prevButton.addEventListener('click', () => {
            if (currentPage > 1) {
                showPage(currentPage - 1);
            }
        });

        nextButton.addEventListener('click', () => {
            if (currentPage < pages.length) {
                showPage(currentPage + 1);
            }
        });

        updateButtons();
    </script>
</body>
</html>
