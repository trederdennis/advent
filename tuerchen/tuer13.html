<!DOCTYPE html>
<html lang="de">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Adventskalender - Dataframes in R</title>
        <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                background: url('background.jpeg');
                background-size: cover;
                background-position: center center;
                background-repeat: no-repeat;
                background-attachment: fixed;
                font-family: 'Quicksand', sans-serif;
                min-height: 100vh;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
                padding: 20px;
                color: #ffffff;
                overflow-x: hidden;
            }

            .snow {
                position: fixed;
                top: 0;
                left: 0;
                right: 0;
                bottom: 0;
                pointer-events: none;
                z-index: 1;
            }

            .snowflake {
                position: absolute;
                background: white;
                border-radius: 50%;
                opacity: 0.8;
                animation: fall linear infinite;
            }

            @keyframes fall {
                to {
                    transform: translateY(100vh) rotate(720deg);
                }
            }

            .content {
                position: relative;
                z-index: 2;
                text-align: center;
                max-width: 800px;
                padding: 20px;
                background: rgba(0, 0, 0, 0.656);
                border-radius: 15px;
                box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            }

            h1 {
                color: #E0E7FF;
                font-size: 2em;
                font-weight: 700;
                text-shadow: 3px 3px 6px rgba(0,0,0,0.5);
                margin-bottom: 20px;
            }

            p {
                color: #c9ddf7;
                font-size: 1.2em;
                font-weight: 400;
                margin-bottom: 10px;
                text-align: left;
            }

            ul {
                color: #c9ddf7;
                font-size: 1em;
                font-weight: 400;
                margin-left: 40px;
                margin-bottom: 20px;
                text-align: left;
            }

            li {
                margin-bottom: 10px;
            }

            .navigation {
                display: flex;
                gap: 20px;
                justify-content: center;
                margin-top: 20px;
            }

            .nav-button {
                padding: 10px 20px;
                font-size: 1.2em;
                color: #E0E7FF;
                text-decoration: none;
                background: rgba(255, 255, 255, 0.2);
                border: none;
                border-radius: 10px;
                cursor: pointer;
                transition: all 0.3s ease;
            }

            .nav-button:hover {
                background: rgba(255, 255, 255, 0.5);
                transform: scale(1.05);
            }

            .nav-button:disabled {
                opacity: 0.5;
                cursor: not-allowed;
                transform: none;
            }

            .page {
                display: none;
            }

            .page.active {
                display: block;
            }

            pre {
                background-color: #d8d8d814;
                border: 1px solid #ddd;
                border-radius: 4px;
                padding: 10px;
                font-family: 'Courier New', monospace;
                white-space: pre-wrap;
                word-wrap: break-word;
                text-align: left;
                margin: 10px 0;
                font-size: 0.8em;
                line-height: 1.4;
            }
        </style>
    </head>
    <body>
        <div class="snow" id="snowContainer"></div>
        <div class="content">
            <div class="page active" data-page="1">
                <h1>Türchen 13: Dataframes in R</h1>
                <p>Ellooo, heute schauen wir uns das letzte R-Objekt an, die Dataframes. Allgemein ist es eine tabellenartige Struktur, die innerhalb einer column den selben Datentyp hat. Wir können uns das an diesen Dataframe für DNA-Sequenzen anschauen:</p>
                <pre>
daten = data.frame(
    ID = c("Seq1", "Seq2", "Seq3"),
    Länge = c(1500, 2300, 1890),
    GC_Gehalt = c(0.45, 0.52, 0.47)
)
print(daten)
                </pre>
                <p>Wie du siehst initialisieren wir es mit Vektoren und haben wieder die "keys", ohne sie wäre es ein bisschen zu unübersichtlich und hier ist es auch good practise bzw. normal das man "keys" used.</p>
                <p>Task:</p>
                <ul>
                    <li>print die erste Zeile des Dataframes aus.</li>
                    <li>print die Spalte <code>Länge</code> aus.</li>
                    <li>Gib den Wert in der dritten row und zweiten column aus.</li>
                </ul>
                <p>Die Syntax ist die gleiche, wie bei Matrizen unnnd wir können hier wie bei Listen auch das "$" nehmen.</p>
                </ul>
            </div>

            <div class="page" data-page="2">
                <h1>Dataframes - Seite 2</h1>
                <p>Lösung:</p>
                <pre>
# Erste Zeile:
print(daten[1, ])

# Länge column ausgeben:
print(daten$Länge)
print(daten[,2])

# Wert:
print(daten[3, 2])
print(daten$Länge[3])

                </pre>
                <p>Nochmal als kleiner Recap, Matrizen sind zwar ähnlich aufgebaut, haben aber bei allen Einträge den selben Datentyp. Wir können mal schauen, was passiert wenn wir ein column haben mit verschiedenen Datentypen:</p>
                <pre>
dataframe_mixed = data.frame(
    ID = c("Seq1", "Seq2", "Seq3"),
    Länge = c(1500, "2300", 1890)
)
print(dataframe_mixed)
                </pre>
                <p>Es sollte erstmal nichts auffallen, aber R wird hier versuchen, die Werte automatisch zu konvertieren. Wenn du die Datentypen überprüfst, siehst du das die Zahlen zu charactern wurden, was spätere Berechnung schwerer machen kann.</p>
                <pre>
sapply(dataframe_mixed, class)
                </pre>
                <p>Als nächste Task kann du mal versuchen einmal den mean, min und max für die Länge column und die Summe der Werte der GC_Gehalt column zu berechnen :)</p>
            </div>


            <div class="page" data-page="3">
                <h1>Dataframes - Seite 3</h1>
                <p>Beispiel:</p>
                <pre>
# Mean Länge
mean_länge = mean(daten$Länge)
print(mean_länge)

# Min Länge
min_laenge = min(daten$Länge)
print(min_laenge)

# Max Länge
max_laenge = min(daten$Länge)
print(max_laenge)

# Sum vom GC_Gehalt
sum_gc = sum(daten$GC_Gehalt)
print(sum_gc)
                </pre>
                <p>Du kannst auch Funktionen auf mehrere Spalten anwenden, z.B. die Summen für jede Spalte berechnen:</p>
                <pre>
col_sums = colSums(daten[ , sapply(daten, is.numeric)])
print(col_sums)
                </pre>
                <p>Ich denk aber mal nicht das wir solche komplexeren Aufrufe in der Klausur brauchen werden. Aber was noch praktisch wäre ist es die Anzahl an Zeilen und Spalten zu bestimmen, das braucht man gerade wenn man mit Schleifen arbeitet, die Aufrufe kennst du bestimmt oder?</p>
            </div>    

            <div class="page" data-page="4">
                <h1>Dataframes - Seite 4</h1>
                <p>Lösung:</p>
                <pre>
anzahl_zeilen = nrow(daten)
print(anzahl_zeilen)

anzahl_spalten = ncol(daten)
print(anzahl_spalten)

                </pre>
                <p>Unnnd wir können hier wieder die "Condition" Syntax usen, die wir von Vektoren kennen, das heißt du kannst mal alle Zeilen des Dataframes ausgeben bei der die Länge größer als 1800 ist.</p>
            </div>

            <div class="page" data-page="5">
                <h1>Dataframes - Seite 5</h1>
                <p>Lösung:</p>
                <pre>
# Zeilen mit Länge größer 1800
print(daten[daten$Länge > 1800, ])
                </pre>
                <p>joaaa, ich hoffe ich hab alles abgedeckt und du weißt jetzt ein bisschen mehr über die R-Objekte unnnndd tschauuu :]</p>
            </div>



            <div class="navigation">
                <button class="nav-button" id="prevButton">Zurück</button>
                <button class="nav-button" id="nextButton">Weiter</button>
                <a href="../index.html" class="nav-button">Zum Kalender</a>
            </div>
        </div>

        <script>
            function createSnowflakes() {
                const snowContainer = document.getElementById('snowContainer');
                for (let i = 0; i < 100; i++) {
                    const snowflake = document.createElement('div');
                    snowflake.classList.add('snowflake');
                    snowflake.style.left = Math.random() * 100 + 'vw';
                    snowflake.style.width = Math.random() * 3 + 1 + 'px';
                    snowflake.style.height = snowflake.style.width;
                    snowflake.style.animationDuration = (Math.random() * 10 + 5) + 's';
                    snowflake.style.animationDelay = Math.random() * -10 + 's';
                    snowContainer.appendChild(snowflake);
                }
            }

            createSnowflakes();

            const pages = document.querySelectorAll('.page');
            const prevButton = document.getElementById('prevButton');
            const nextButton = document.getElementById('nextButton');
            let currentPage = 1;

            function updateButtons() {
                prevButton.disabled = currentPage === 1;
                nextButton.disabled = currentPage === pages.length;
            }

            function showPage(pageNumber) {
                pages.forEach(page => page.classList.remove('active'));
                document.querySelector(`[data-page="${pageNumber}"]`).classList.add('active');
                currentPage = pageNumber;
                updateButtons();
            }

            prevButton.addEventListener('click', () => {
                if (currentPage > 1) {
                    showPage(currentPage - 1);
                }
            });

            nextButton.addEventListener('click', () => {
                if (currentPage < pages.length) {
                    showPage(currentPage + 1);
                }
            });

            updateButtons();
        </script>
    </body>
</html>
